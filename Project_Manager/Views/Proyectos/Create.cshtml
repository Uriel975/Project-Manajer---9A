
@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
    var Cliente = (List<Project_Manager.Services.BO.TblClienteBO>)ViewBag.ClienteList;
}

<div class="card">
    <div class="card-header">
        <h2>Agregar Proyecto</h2>
        <p class="mb-4">Todos los campos señalados con un "*" son oblogatorios</p>
    </div>
    <div class="card-body">
        <form method="post" id="frmCreate">
            <div class="group form-group">
                <fieldset>
                    <div class="row col-lg-12">
                        <div class="col-md-6">
                            <label class="label">Nombre del Proyecto*</label>
                            <input type="text" class="form-control" id="txtNombrePro">
                        </div>
                        @if (Cliente.Count != 0)
                        {
                            <div class="col-md-6">
                                <label for="cmbEstacionesBio">Empresa dueña*</label>
                                <select class="form-control" id="cmbEmpresa" name="cmbEmpresa">
                                    <option value="0">-Seleccionar una estación</option>
                                    @foreach (var est in Cliente)
                                    {
                                        <option value="@est.IDCliente">@string.Format("{0}", est.NombreEmpresa) </option>
                                    }
                                </select>
                            </div>
                        }
                        else
                        {
                            <div class="col-md-6">
                                <p>No se encontro ninguna Empresa</p>
                            </div>
                        }

                    </div>
                    <br />
                    <div class="row col-lg-12">
                        <div class="col-lg-3">
                            <label class="label">Fecha de entrega*</label>
                            <input type="date" class="form-control" id="txtFechaEntrega">
                        </div>
                        <div class="col-lg-5">
                            <label asp-for="veh.modelo" class="label">Prioridad*</label>
                            <select asp-for="veh.modelo" class="form-control col-md-12" id="cmdPrioridad">
                                <option selected disabled>--Seleccione--</option>
                                <option value="Alta">Alta preoridad</option>
                                <option value="Media">Media preoridad</option>
                                <option value="Baja">Baja preoridad</option>
                            </select>
                        </div>
                        <div class="col-lg-4">
                            <label asp-for="veh.modelo" class="label">Maximo de empleados*</label>
                            <select asp-for="veh.modelo" class="form-control col-md-12" id="cmdmaxEm">
                                <option selected disabled>--Seleccione--</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                            </select>
                        </div>
                    </div>
                    <di class="row col-lg-12">
                        <div class="col-lg-12">
                            <div class="row col-lg-12">
                                <label asp-for="veh.modelo" class="label">Descripción*</label>
                            </div>
                            <div class="row col-lg-12">
                                <textarea maxlength="250" id="mensaje" rows="4" cols="70"
                                          class="form-control">

                                </textarea>
                            </div>
                            <div class="row col-lg-12">
                                <div id="contador">0/250</div>
                            </div>
                        </div>

                    </di>

                </fieldset>
            </div>
            <div class="group">
                <button type="submit" class="btn btn-success btn-sm"><i class="fa fa-save"></i> Guardar</button>
            </div>
        </form>
    </div>
</div>

<script>
    const mensaje = document.getElementById('mensaje');
    const contador = document.getElementById('contador');

    mensaje.addEventListener('input', function (e) {
        const target = e.target;
        const longitudMax = target.getAttribute('maxlength');
        const longitudAct = target.value.length;
        contador.innerHTML = `${longitudAct}/${longitudMax}`;
    });
</script>
<script src="~/Scripts/ProjectAll.js"></script>
<script>
    $(function () {
        Project.init();
    });
</script>

