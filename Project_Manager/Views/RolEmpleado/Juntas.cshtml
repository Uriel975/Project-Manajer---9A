
@{
    ViewBag.Title = "Select";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
    var proyectos = (List<Project_Manager.Services.BO.TblProyectosBO>)ViewBag.proyectosList;

}

<div class="card">
    <div class="card-header">
        <h2>Sugerencia de juntas</h2>
        <p class="mb-4">Todos los campos señalados con un "*" son oblogatorios</p>
    </div>
    <div class="card-body">
        <form method="post" id="frmCreate">
            <div class="group form-group">
                <fieldset>
                    <div class="row col-lg-12">
                        <div class="col-lg-6">
                            <label class="label">Fecha ha sugerir*</label>
                            <input id="txtfecha" type="date" class="form-control">
                        </div>
                        <div class="col-lg-6">
                            <label class="label">Hora ha sugerir*</label>
                            <input id="txthora" type="time" class="form-control">
                        </div>
                    </div>
                    <div class="row col-lg-12">
                        <div class="col-md-6">
                            <label class="label">Titulo de la junta*</label>
                            <input type="text" class="form-control" id="txtNombre">
                        </div>
                        <div class="col-md-6">
                            <label for="cmbEstacionesBio">Nombre del proyecto*</label>
                            <select class="form-control" id="cmbEmpresa" name="cmdproyecto">
                                <option value="0">-Seleccionar un proyecto</option>
                                @foreach (var est in proyectos)
                                {
                                    <option value="@est.Folio">@string.Format("{0}", est.NombreProyecto) </option>
                                }
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-12">
                        <div class="row col-lg-12">
                            <label asp-for="veh.modelo" class="label">Motivo*</label>
                        </div>
                        <div class="row col-lg-12">
                            <textarea class="form-control" maxlength="250" id="mensaje" rows="4" cols="70"></textarea>
                        </div>
                        <div class="row col-lg-12">
                            <div id="contador">0/250</div>
                        </div>
                    </div>
                </fieldset>
            </div>
            <div class="group">
                <button type="submit" class="btn btn-success btn-sm"><i class="fa fa-save"></i> Guardar</button>
            </div>
        </form>
    </div>
</div>

<script>
    const mensaje = document.getElementById('mensaje');
    const contador = document.getElementById('contador');

    mensaje.addEventListener('input', function (e) {
        const target = e.target;
        const longitudMax = target.getAttribute('maxlength');
        const longitudAct = target.value.length;
        contador.innerHTML = `${longitudAct}/${longitudMax}`;
    });
</script>
<script src="~/Scripts/RolEmpleado.js"></script>
<script>
    $(function () {
        Rol.init();
    });
</script>
